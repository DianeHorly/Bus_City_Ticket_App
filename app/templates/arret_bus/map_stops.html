{# app/templates/arret_bus/map_stops.html #}
{% extends "base.html" %}

{% block title %}Carte des arrêts par ville{% endblock %}

{% block content %}
<h4 class="mb-3">Carte des arrêts par ville</h4>

<label for="citySelect" class="form-label">Ville</label>
<select id="citySelect" class="form-select mb-3">
  <option value="" selected disabled>— Choisir une ville —</option>
</select>

<div id="map" style="height: 520px; border-radius: 8px; overflow: hidden;"></div>

<div id="emptyHint" class="alert alert-warning mt-3 d-none">
  Aucune ville détectée. Charge tes arrêts (champs <code>city/ville/town</code>)
  ou clique sur <code>POST /stops/dev/seed</code> pour injecter 3 arrêts de test.
</div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <!-- Leaflet (CDN) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <!-- Notre script -->
  <script src="{{ url_for('static', filename='js/map_stops.js') }}"></script>
{% endblock %}
